# How the programme works

1. Set how the experiment is intended to be done using the `config.json` file.
2. Run the experiment, which will generate experimental data.
3. Investigate the generated data.

## config

The things that are controlled by the `config.json` file include

- whether this run is for real, or it is just a test of something during development
- which dataset to use, which series to use
- transformation configuration: how the transformation is to be performed and its hyperparameter space 
- modelling configuration: how the modelling process is done (validation size, test size etc.)
- what are the models to be included in the experiment
- how many CPU cores to use during multiprocessing

## Running the experiment

The experiment runs by calling

```{command line tool}
python3 main.py
```

from the command-line tool. `main.py` calls the `config.json` file, where the user controls how the experiment should go, and the output is a directory being created under the `experiment_info/` or `test_experiment_info/` directory depending on whether this is a real run or a test during development. The created directory is named after the starting time of the experiment.

The execution goes as the following:

1. `main.py` gets the configuration of the experiment from `config.json`
2. `main.py` performs some useful checks on whether the inputs it reads from `config.json` are valid and reasonable
3. `main.py` gets the search space of the hyperparameters of the models from `model_policies`
4. `main.py` then starts training the models using the dataset specified in `config.json`, which is stored in the directory `datasets/`.

   1. Note that the programme currently is only able to read .JSON files. This is one of the reasons why the `playground.ipynb` exists.
   2. A model is trained on all the series used, a .JSON file containing the experiment information of this model is created and placed in the experiment's directory, and the programme moves on to another model until all models are trained.

5. After the models are trained, a dictionary of overall information regarding this run is appended to the `runs.json` file, which is a log of all the runs being run.

## Analysing the results

To analyse the experiment, one can use a Jupyter Notebook or any other tools to read the data generated by the experiment.

## DC Transformation programme

As the core of this experiment, the programme of Directional Change Transformation is implemented as an independent class called `DCTransformer` in the `dc_transformation.py` file. It is easy to use for those with interests.
